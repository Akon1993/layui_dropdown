<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Layui·dropdown-下拉控件</title>
    <link type="text/css" rel="stylesheet" href="./layui/css/layui.css">
    <link type="text/css" rel="stylesheet" href="../dist/dropdown.css">
    <style>
        ol,ul {
            padding-left: 35px;
        }
        ol li, ul li {
            list-style-position: inside;
            list-style-type: unset;
        }
        body {
            padding: 20px;
        }
        h1 {
            margin: 24px 0 12px;
        }
        p {
            margin: 23px 10px 6px 10px;
            font-size: 17px;
            line-height: 23px;
        }
        .bold {
            font-weight: bold;
        }
    </style>
</head>
<body>
<div class="layui-container">
    <h1>一、控件简介</h1>
    <p>
        dropdown 是一款基于layui框架的下拉框控件，填补了layui原生没有下拉框这个空隙。借助下拉框的操作方式和UI交互，可以带来更加直观、便于操作、模块划分清晰等优势。<br>
    </p>
    <p>    带来了这些优势的同时又加入了许多意想不到的细节:
    </p>
    <ul>
        <li>如果下拉框出现的位置会超出浏览器边缘，那么会自动找一个‘凉快’的地方呆着。</li>
        <li>在你打开下拉框后又进行了界面滚动，她也不依不舍的跟着你走。</li>
    </ul>

    <h1>二、控件体验</h1>
    <p class="bold">1、基本效果：</p>
    <p>
        <button class="layui-btn layui-btn-sm" lay-filter="test1"
                lay-dropdown="{align:'left', menus: [{layIcon:'layui-icon-username',txt: '个人中心', event:'usercenter'}, {layIcon: 'layui-icon-set',txt: '设置', event:'set'}, {layIcon: 'layui-icon-logout', txt: '退出登录', event:'loginout'}]}">
            <span>左对齐</span>
            <i class="layui-icon layui-icon-triangle-d"></i>
        </button>、
        <button class="layui-btn layui-btn-sm" lay-filter="test2"
                lay-dropdown="{align:'center', menus: [{layIcon:'layui-icon-username',txt: '个人中心', event:'usercenter'}, {layIcon: 'layui-icon-set',txt: '设置', event:'set'}, {layIcon: 'layui-icon-logout', txt: '退出登录', event:'loginout'}]}">
            <span>中对齐</span>
            <i class="layui-icon layui-icon-triangle-d"></i>
        </button>、
        <button class="layui-btn layui-btn-sm" lay-filter="test3"
                lay-dropdown="{align:'right', menus: [{layIcon:'layui-icon-username',txt: '个人中心', event:'usercenter'}, {layIcon: 'layui-icon-set',txt: '设置', event:'set'}, {layIcon: 'layui-icon-logout', txt: '退出登录', event:'loginout'}]}">
            <span>右对齐</span>
            <i class="layui-icon layui-icon-triangle-d"></i>
        </button>、
        <button class="layui-btn layui-btn-sm" lay-filter="test4"
                lay-dropdown="{menus: [{layIcon:'layui-icon-username',txt: '个人中心', event:'usercenter'}, {layIcon: 'layui-icon-set',txt: '设置', event:'set'}, 'hr',{layIcon: 'layui-icon-logout', txt: '退出登录', event:'loginout'}]}">
            <span>菜单分割线</span>
            <i class="layui-icon layui-icon-triangle-d"></i>
        </button>、
        <button class="layui-btn layui-btn-sm" lay-filter="test5"
                lay-dropdown="{menus: [{header: '用户'},{layIcon:'layui-icon-username',txt: '个人中心', event:'usercenter'}, {layIcon: 'layui-icon-set',txt: '信息设置', event:'set'}, {header: '操作',align:'center'},{layIcon: 'layui-icon-praise', txt: '点赞加油', event:'praise'},{layIcon: 'layui-icon-logout', txt: '退出登录', event:'loginout'},{header: '其他',align:'right'},{layIcon: 'layui-icon-tips', txt: '关于网站', event:'about'}]}">
            <span>带header的下拉菜单</span>
            <i class="layui-icon layui-icon-triangle-d"></i>
        </button>、
        <button class="layui-btn layui-btn-sm" lay-filter="test6"
                lay-dropdown="{menus: [{header: '用户', withLine: true},{layIcon:'layui-icon-username',txt: '个人中心', event:'usercenter'}, {layIcon: 'layui-icon-set',txt: '设置', event:'set'}, {header: '操作', withLine: true},{layIcon: 'layui-icon-logout', txt: '退出登录', event:'loginout'}]}">
            <span>带header的下拉菜单2</span>
            <i class="layui-icon layui-icon-triangle-d"></i>
        </button>
    </p>
    <p class="bold">2、Hover触发：</p>
    <p>
        <button class="layui-btn layui-btn-sm" lay-filter="test7"
                lay-dropdown="{showBy: 'hover',align:'left', menus: [{layIcon:'layui-icon-username',txt: '个人中心', event:'usercenter'}, {layIcon: 'layui-icon-set',txt: '设置', event:'set'}, {layIcon: 'layui-icon-logout', txt: '退出登录', event:'loginout'}]}">
            <span>hover触发下拉菜单</span>
            <i class="layui-icon layui-icon-triangle-d"></i>
        </button>
    </p>
    <p class="bold">3、自定义下拉内容：</p>
    <p>
        <button class="layui-btn layui-btn-sm" lay-filter="test8">
            <span>下拉自定义内容</span>
            <i class="layui-icon layui-icon-triangle-d"></i>
        </button>、
        <button class="layui-btn layui-btn-sm" lay-filter="test9" lay-dropdown="{template: '#myimg'}">
            <span>下拉显示图片</span>
            <i class="layui-icon layui-icon-triangle-d"></i>
        </button>
    </p>
    <p class="bold">4、任意下拉触发器：</p>
    <p>
        <small>点击这个小图片弹出下拉:</small><img style="width: 20px;height: 20px;background-color: #ff6619;border-radius: 50%"
             src="https://file.microanswer.cn/microanswer_head.png"
             lay-filter="test10"
             lay-dropdown="{align:'left', menus: [{layIcon:'layui-icon-username',txt: '个人中心', event:'usercenter'}, {layIcon: 'layui-icon-set',txt: '设置', event:'set'}, {layIcon: 'layui-icon-logout', txt: '退出登录', event:'loginout'}]}">
    </p>
    <br>
    <p class="bold">5、在表格里使用：</p>
    <p>
        <table id="mytable" lay-filter="table1"></table>
    </p>
    <hr>
    <h1>二、控件&文档</h1>
    <p>
        直接下载使用：<a href="http://file.microanswer.cn/dropdown_1.0.2.zip">下载控件</a><br>
        查看使用文档：<a href="https://www.microanswer.cn/blog/74">dropdown下拉控件文档</a>。
    </p>
    <hr>
    <h1>三、Github</h1>
    <p>觉得不错，去<a href="https://github.com/MicroAnswer/layui_dropdown" target="_blank">Github</a>给个<strong>star</strong>吧！</p>

    <script type="text/javascript">
        var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");
        document.write(unescape("%3Cspan style='vertical-align:middle' id='cnzz_stat_icon_1263962182'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s22.cnzz.com/z_stat.php%3Fid%3D1263962182%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
    </script>
</div>

<!-- 自定义下拉菜单内容 -->
<script id="mymenu" type="text/html">
    <div style="padding: 20px;max-width: 300px;display: flex;display: -webkit-flex">
        <img src="https://file.microanswer.cn/microanswer_head.png" style="width: 60px;min-width:60px;height: 60px;border-radius: 50%;">
        <div style="display: inline-block;word-break: break-all;margin-left: 20px">
            大家好，我是自定义下拉内容，在这里你可以放任何你希望放置的下拉内容哦。<br><br>
            <button class="layui-btn layui-btn-xs layui-btn-primary modify">修改信息</button>
            <button class="layui-btn layui-btn-xs openvip">开通会员</button>
        </div>
    </div>
</script>

<!-- 自定义下拉菜单内容 - 图片 -->
<script id="myimg" type="text/html">
    <img src="https://file.microanswer.cn/microanswer_head.png" style="width: 150px;height: 150px;">
</script>
<!-- 表格行toolbar模板 -->
<script id="tb" type="text/html">
    <button class="layui-btn layui-btn-xs" lay-filter="ft{{d.id}}" lay-dropdown="{align:'right', menus: [{layIcon:'layui-icon-username',txt: '详细信息', event:'{{d.id}}-detail'}, {layIcon: 'layui-icon-set',txt: '开通会员', event:'{{d.id}}-openvip'}, {layIcon: 'layui-icon-logout', txt: '删除账户', event:'{{d.id}}-deleteaccount'}]}">
        <span>操作</span>
        <i class="layui-icon layui-icon-triangle-d"></i>
    </button>
</script>


<script src="./layui/layui.js"></script>
<script>

    layui.config({
        base: "../dist/"
    }).use(['dropdown', 'table', 'layer'], function () {
        var table = layui.table;
        var dropdown = layui.dropdown;
        var layer = layui.layer;

        dropdown.onFilter("test1", function (event) {layer.msg("你点击了test1：" + event);});
        dropdown.onFilter("test2", function (event) {layer.msg("你点击了test2：" + event);});
        dropdown.onFilter("test3", function (event) {layer.msg("你点击了test3：" + event);});
        dropdown.onFilter("test4", function (event) {layer.msg("你点击了test4：" + event);});
        dropdown.onFilter("test5", function (event) {layer.msg("你点击了test5：" + event);});
        dropdown.onFilter("test6", function (event) {layer.msg("你点击了test6：" + event);});
        dropdown.onFilter("test7", function (event) {layer.msg("你点击了test7：" + event);});

        dropdown.onFilter("test10", function (event) {layer.msg("你点击了test10：" + event);});

        dropdown.suite("[lay-filter='test8']", {
            template: "#mymenu",
            success: function ($dom) {
                $dom.find(".modify").click(function () {
                    layer.msg("你点击了【修改信息】")
                });

                $dom.find(".openvip").click(function () {
                    layer.msg("你点击了【开通会员】")
                });
            }
        });

        var tableData;

        table.render({
            elem: '#mytable'
            ,height: 200
            ,data: [
                {id: "1", username: "张三", sex: "男", city: "成都", score: "100", classify: "会计", },
                {id: "2", username: "王五", sex: "女", city: "成都", score: "120", classify: "CEO",},
                {id: "3", username: "赵四", sex: "男", city: "成都", score: "130", classify: "董事长",}
            ]
            ,page: true //开启分页
            ,cols: [[ //表头
                {field: 'id', title: 'ID', width:80, sort: true, fixed: 'left'}
                ,{field: 'username', title: '用户名', width:80}
                ,{field: 'sex', title: '性别', width:80, sort: true}
                ,{field: 'city', title: '城市', width:80}
                ,{field: 'score', title: '评分', width: 80, sort: true}
                ,{field: 'classify', title: '职业', width: 80},
                {fixed: 'right', title: '操作', width:100, toolbar: "#tb"}
            ]],
            done: function (res) {
                tableData = res;
                dropdown.suite();
                for (var i = 0; i < tableData.data.length; i++) {
                    dropdown.onFilter("ft" + tableData.data[i].id, function (event) {
                        layer.msg("你点击了："  + event);
                    });
                }
            }
        });

        table.on("sort(table1)", function () {
            dropdown.suite();
        })
    });
</script>
</body>
</html>